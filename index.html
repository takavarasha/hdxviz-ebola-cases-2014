<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8 />
    <title>West Africa Ebola Outbreak</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

    <!-- loading font -->
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,200,300,600,700' rel='stylesheet' type='text/css'>

    <!-- Loading jquery -->
    <script src='js/jquery.js'></script>

    <!-- Loading c3 + d3 -->
    <script src='js/d3.min.js'></script>
    <script src='js/c3.js'></script>
    <link href='css/c3.css' rel='stylesheet' />

    <!-- Loading style sheets that match our current site -->
    <link rel='stylesheet' id='bean-css'  href='css/framework.css' type='text/css' media='all' />
    <link rel='stylesheet' id='main-style-css'  href='css/style.css' type='text/css' media='all' />
    <link rel='stylesheet' id='mobile-css'  href='css/mobile.css' type='text/css' media='all' />
    <link rel='stylesheet' id='font-awesome-four-css'  href='css/font-awesome.min.css' type='text/css' media='all' />

<!-- in-page style -->
<style>
    body {
        font-family: 'Source Sans Pro';
        margin-top:20px;
        width: 100%;
    }
</style>

</head>

<body>
    <div class="row" style="padding-bottom: 20px;">
        <div class="nine columns" style="padding-left:0px; margin-left:0px;"><h1 id="mainPageHeading"><strong>West Africa Ebola Outbreak</strong></h1></div>
            <div class="three columns">
                <a href="https://data.hdx.rwlabs.org/dataset/ebola-cases-2014" class="btn btn-default btn-lg" style="float:right;">Download data in HDX</a>
            </div>
    </div>

    <div class="row">
        <div class='twelve columns' style="padding-left: 0px;">Total number of probable, confirmed and suspected Ebola cases and deaths in Guinea, Liberia, Sierra Leone, Nigeria and Senegal as at 5 September. Extracted from WHO: Ebola Response Roadmap Situation Report 2 (5 September 2014). The dataset highlights the number of Ebola cases in Guinea, Liberia, Sierra Leone and Nigeria.</div>
    </div>

    <div class="row">
        <div class="twelve columns" style="padding-left: 0px">
			<div class="btn btn-default btn-sm one columns" onclick="showSept16()">Sept 16</div>
			<div class="btn btn-default btn-sm one columns" onclick="showSept12()">Sept 12</div>		
            <div class="btn btn-default btn-sm one columns" onclick="showSept5()">Sept 5</div>
            <div class="btn btn-default btn-sm one columns" onclick="showAug29()">Aug 29</div>
        </div>
    </div>
    <p></p>
    
	<div class="row">
        <div class="twelve columns">
            <h4 id="cumulativeChartTitle">Total number of Ebola cases and deaths as at 16 September</h4>
        </div>
    </div>

    <div class="row">
        <div id="cumulativeChart" class="twelve columns"></div>
    </div>

    <p></p>
    <div class="row">
        <div class="twelve columns">
            <h4 id="last21DaysChartTitle">Number of Ebola cases and deaths for 21 days up to 16 September</h4>
        </div>
    </div>

    <div class="row">
        <div id="last21DaysChart" class="twelve columns"></div>
    </div>
<!--
    <p></p>
    <div class="row">
        <div class="twelve columns">
             <h4 id="caseFatalityRateChartTitle">Case fatality rate of Ebola cases as at 16 September</h4> 
        </div>
    </div>
	
    <div id="cfrCharts"class="row">
        <div id="guineaCFRChart" class="two columns"></div>
        <div id="liberiaCFRChart" class="two columns"></div>
        <div id="sieraLeoneCFRChart" class="two columns"></div>
        <div id="nigeriaCFRChart" class="two columns"></div>
        <div id="senegalCFRChart" class="two columns"></div>
    </div>
    <p></p>
-->
<!-- Specific chart style -->
<style>
  #timeseries .c3-line {
    stroke-width: 2px;
  }
  #timeseries .c3-line-Bamako {
    stroke-width: 4px;
  }
</style>


<!-- Scripts for the charts -->
<script src='js/charts.js'></script>

<script>

var barChartTotal; //Global variable to hold the totals bar chart that will be generated by c3
var barChartLast21Days;// = generateEbolaStackedBarChart("#last21DaysChart","data/last_21days_20140905.csv");
//var guineaCFRChart = generateGaugeChart("#guineaCFRChart", 20);
//var liberiaCFRChart = generateGaugeChart("#liberiaCFRChart", 40);
//var sieraLeoneCFRChart = generateGaugeChart("#sieraLeoneCFRChart", 60);
//var nigeriaCFRChart = generateGaugeChart("#nigeriaCFRChart", 80);
//var senegalCFRChart = generateGaugeChart("#senegalCFRChart", 100);

function showSept16() {
	configureCharts("16 September 2014", "data/cumulative_20140916.csv", "data/last_21days_20140916.csv");
};

function showSept12() {
	configureCharts("12 September 2014", "data/cumulative_20140912.csv", "data/last_21days_20140912.csv");
};

function showSept5() {
	configureCharts("5 September 2014", "data/cumulative_20140905.csv", "data/last_21days_20140905.csv");
};

function showAug29() {
	configureCharts("29 August 2014", "data/cumulative_20140829.csv", "data/last_21days_20140829.csv");
};

function configureCharts(reportDate, cumulativeDataUrl, last21DaysDataUrl) {
	document.getElementById("cumulativeChartTitle").innerHTML = "Total number of Ebola cases and deaths as at " + reportDate;
	document.getElementById("last21DaysChartTitle").innerHTML = "Number of Ebola cases and deaths for 21 days up to " + reportDate;
	//document.getElementById("caseFatalityRateChartTitle").innerHTML = "Number of Ebola cases and deaths for 21 days up to " + reportDate;
	barChartTotal = generateEbolaStackedBarChart("#cumulativeChart", cumulativeDataUrl);
	barChartLast21Days = generateEbolaStackedBarChart("#last21DaysChart", last21DaysDataUrl);
};

showSept16();

document.getElementById("cfrCharts").style.display = "none";

//document.body.innerHTML ="" //clear the whole page
console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~')
console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~')
console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~')
console.log('Visualizing HDX data.')
console.log('Developed by @takaravasha + @luiscape')
console.log('Version: v.0.1')
console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~')
console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~')
console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~')
</script>

</body>
</html>